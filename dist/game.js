webpackJsonp([0],[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.superclass=t}return o(e,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)}}]),e}();e.exports=function(e){return new i(e)}},function(e,t,n){"use strict";var r={DIR:{LEFT:-1,RIGHT:1}};e.exports=r},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.id="undefined",this.owner=null,this.locked=!1}return o(e,[{key:"enter",value:function(){}},{key:"update",value:function(){}},{key:"exit",value:function(){}}]),e}();e.exports=i},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(){function e(){r(this,e)}return o(e,null,[{key:"dist",value:function(e,t){return Phaser.Math.distance(e.x,e.y,t.x,t.y)}},{key:"getTargetSide",value:function(e,t){return e.x-t.x<0?a.default.DIR.LEFT:a.default.DIR.RIGHT}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,null,[{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}}]),e}();e.exports=i},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(5),n(6);var u=n(3),s=r(u),c=n(15),l=r(c);new(function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,500,500,s.default.AUTO,"container",null));return e.state.add("GameState",l.default,!1),e.state.start("GameState"),e}return a(t,e),t}(s.default.Game))},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),u=(r(a),n(0)),s=(r(u),n(3)),c=r(s),l=n(16),f=r(l),p=n(17),h=r(p),y=n(18),d=r(y),b=n(20),g=r(b),m=n(28),v=(r(m),n(31)),w=r(v),_=function(){function e(t){o(this,e),this.game=t}return i(e,[{key:"preload",value:function(){var e={groundTile:"./assets/gfx/ground.png",mapData:"./assets/mapdata/sandbox.json"};this.game.load.image("ground",e.groundTile),this.game.load.image("player","./assets/gfx/player.png"),this.game.load.image("bug","./assets/gfx/bug.png"),this.game.load.image("life","./assets/gfx/oneup.png"),this.game.load.image("coin","./assets/gfx/coin.png"),this.game.load.image("tiles","./assets/tilemaps/tiles/salt-tiles.png"),this.game.load.json("player","./assets/gamedata/playerData.json"),this.game.load.json("enemies","./assets/gamedata/enemies.json"),this.game.load.json("items","./assets/gamedata/items.json"),this.game.load.json("mapdata-sandbox",e.mapData)}},{key:"create",value:function(){this.game.stage.backgroundColor=8960972,this.MAX_SPEED=250,this.ACCELERATION=2500,this.DRAG=1500,this.GRAVITY=2500,this.JUMP_SPEED=-500;var e=this.game.cache.getJSON("player").properties;this.player=new w.default({game:this.game,x:128,y:64,name:"player",properties:e,MAX_SPEED:this.MAX_SPEED,DRAG:this.DRAG}),this.game.physics.arcade.gravity.y=this.GRAVITY,this.jumping=!1,this.ground=this.game.add.group(),this.enemies=this.game.add.group(),this.items=this.game.add.group(),this.game.physics.arcade.TILE_BIAS=40;var t=this.game.cache.getJSON("mapdata-sandbox"),n=f.default.create(t,32);this.generateMap(n,t,32),this.game.input.keyboard.addKeyCapture([c.default.Keyboard.LEFT,c.default.Keyboard.RIGHT,c.default.Keyboard.UP,c.default.Keyboard.DOWN]),this.drawHeightMarkers()}},{key:"generateMap",value:function(e,t,n){var r=this,o=h.default.generateCSV(e);this.game.cache.addTilemap("dynamicMap",null,o,c.default.Tilemap.CSV),this.levelTileMap=this.game.add.tilemap("dynamicMap",n,n),this.levelTileMap.addTilesetImage("tiles","tiles",n,n),this.levelTileMap.setCollisionBetween(0,this.levelTileMap.tiles.length),this.levelLayer=this.levelTileMap.createLayer(0);for(var i=0;i<t.items.length;i++)!function(e){var o=t.items[e],i=r.game.cache.getJSON("items").find(function(e){return e.id===o.id}).properties,a=d.default.create({game:r.game,x:o.x*n,y:o.y*n,name:o.name.toLowerCase(),properties:i});r.items.add(a)}(i);for(var i=0;i<t.enemies.length;i++)!function(e){var o=t.enemies[e],i=r.game.cache.getJSON("enemies").find(function(e){return e.id===o.id}).properties,a=g.default.create({game:r.game,x:o.x*n,y:o.y*n,id:o.id,name:o.name.toLowerCase(),target:r.player,properties:i});r.enemies.add(a)}(i)}},{key:"update",value:function(){this.game.physics.arcade.collide(this.player,this.levelLayer),this.game.physics.arcade.collide(this.enemies,this.levelLayer),this.game.physics.arcade.overlap(this.player,this.items,function(e,t){e.onPickup(t.itemData.id,t.itemData.value),t.kill()}),this.leftInputIsActive()?this.player.body.acceleration.x=-this.ACCELERATION:this.rightInputIsActive()?this.player.body.acceleration.x=this.ACCELERATION:this.player.body.acceleration.x=0,this.player.body.blocked.down&&(this.jumps=2,this.jumping=!1),this.jumps>0&&this.upInputIsActive(150)&&(this.player.body.velocity.y=this.JUMP_SPEED,this.jumping=!0),this.jumping&&this.upInputReleased()&&(this.jumps--,this.jumping=!1)}},{key:"leftInputIsActive",value:function(){return this.input.keyboard.isDown(c.default.Keyboard.LEFT)}},{key:"rightInputIsActive",value:function(){return this.input.keyboard.isDown(c.default.Keyboard.RIGHT)}},{key:"upInputIsActive",value:function(e){return this.input.keyboard.downDuration(c.default.Keyboard.UP,e)}},{key:"upInputReleased",value:function(){return this.input.keyboard.upDuration(c.default.Keyboard.UP)}},{key:"drawHeightMarkers",value:function(){for(var e=this.game.add.bitmapData(this.game.width,this.game.height),t=this.game.height-20;t>=0;t-=32)e.context.beginPath(),e.context.strokeStyle="rgba(255, 255, 255, 0.2)",e.context.moveTo(0,t),e.context.lineTo(this.game.width,t),e.context.stroke();this.game.add.image(0,0,e)}}]),e}();t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.mapCache=[],this.area=0,this.width=0,this.height=0}return o(e,[{key:"create",value:function(e,t){return this.width=e.map[0].length,this.height=e.map.length,this.area=this.width*this.height,this.mapCache=e.map.reduce(function(e,t){return e.concat(t)}),this}},{key:"atIndex",value:function(e){return e<0||e>this.mapCache.length-1?null:this.mapCache[e]}}]),e}(),a=a||new i;e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,null,[{key:"generateTileScore",value:function(e,t,n,r){var o=0;return o+=e?1:0,o+=r?2:0,o+=n?4:0,o+=t?8:0}},{key:"generateCSV",value:function(e){for(var t="",n=0,r=e.width-1,o=(e.height,0);o<e.area;o+=1)n=1===e.atIndex(o)?this.generateTileScore(e.atIndex(o-e.width),e.atIndex(o+1),e.atIndex(o+e.width),e.atIndex(o-1)):-1,t+=n,o<e.area-1&&(t+=","),o%e.width===r&&(t+="\n");return t}}]),e}();e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(19),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(){function e(){r(this,e)}return o(e,null,[{key:"create",value:function(e){return new a.default(e)}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game,e.x,e.y,e.name));return e.game.add.existing(n),e.game.physics.enable(n,Phaser.Physics.ARCADE),n.body.immovable=!0,n.body.allowGravity=!1,n.itemData={id:e.properties.id,value:e.properties.value},n}return i(t,e),t}((0,u.default)(Phaser.Sprite).with());e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(21),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(){function e(){r(this,e)}return o(e,null,[{key:"create",value:function(e){var t=null;switch(e.id){case"bug":t=a.default}return new t(e)}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(0),f=r(l),p=n(22),h=r(p),y=n(7),d=r(y),b=n(8),g=r(b),m=n(23),v=r(m),w=n(24),_=r(w),k=n(26),O=r(k),x=n(27),P=r(x),j=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game,e.x,e.y,e.name));return e.game.add.existing(n),e.game.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.maxVelocity.setTo(e.properties.physics.MAX_SPEED,10*e.properties.physics.MAX_SPEED),n.body.drag.setTo(e.properties.physics.DRAG,0),n.status=e.properties.status,n.gambits=e.properties.gambits,n.target=e.target,n.useState=n.gambits.find(function(e){return e.isDefault}).actionIfTrue,n.fsm=new _.default,n}return a(t,e),u(t,[{key:"update",value:function(){this.status.has_los=h.default.inLOS(this,this.target),this.status.has_dist=h.default.inDistance(this,this.target),this.useState=this.analyse(this.gambits,this.status,this.target),"idle"!==this.useState||this.fsm.sameAsCurrent(this.useState)||this.fsm.clear(),"roam"!==this.useState||this.fsm.sameAsCurrent(this.useState)||(this.fsm.pop(),this.fsm.push(new P.default(this,this.status,this.moveTowards))),"chase"!==this.useState||this.fsm.sameAsCurrent(this.useState)||(this.fsm.pop(),this.fsm.push(new O.default(this,this.status,this.target,this.moveTowards))),this.fsm.update(this.status)}},{key:"moveTowards",value:function(e){if(this.body.velocity.x=0,d.default.dist(e,{x:this.x,y:this.y})>2){var t={x:e.x-this.x},n=t.x<0?c.default.DIR.LEFT:c.default.DIR.RIGHT;if(Math.round(Math.abs(t.x))>10){var r=g.default.getRandomInt(80,130);return this.body.velocity.x=n===c.default.DIR.LEFT?-r:r,!0}return this.body.velocity.x=0,!1}return!1}}]),t}((0,f.default)(Phaser.Sprite).with(v.default));e.exports=j},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,null,[{key:"inLOS",value:function(e,t){return!0}},{key:"inDistance",value:function(e,t){return Phaser.Math.distance(e.x,e.y,t.x,t.y)}}]),e}();e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){return function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"analyse",value:function(e,t,n){var r=e.find(function(e){return e.isDefault}),o=e.find(function(e){return this.conditionRunner(e,t)},this);return o?o.actionIfTrue:r.actionIfTrue}},{key:"conditionRunner",value:function(e,t){var n=t[e.identifier],r=e.against?t[e.against]:e.value,o=!1;switch(e.operator){case"boolean":o=n===e.value;break;case"less_than":o=e.value>0&&e.percentile?n<r*e.value:n<r;break;case"greater_than":o=e.value>0&&e.percentile?n>r*e.value:n>r;break;case"equal_to":o=e.value===n;break;case"not_equal_to":o=e.value!==n}return e.and&&e.and.length>0?e.and.every(function(e){return this.conditionRunner(e,t)},this)&&o:e.or&&e.or.length>0?e.and.every(function(e){return this.conditionRunner(e,t)},this)||o:o}}]),t}(e)};e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(25),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(){function e(){r(this,e),this.stack=[],this.stack.push(new a.default)}return o(e,[{key:"update",value:function(e){this.top().update(e)}},{key:"push",value:function(e,t){if(this.stack.find(function(t){return t.id===e.id}))throw" - State duplication error, check you aren't pushing the same type.";this.stack.push(e),this.top().enter(t)}},{key:"top",value:function(){return this.stack[this.stack.length-1]}},{key:"pop",value:function(){if(0===this.stack.length)throw" - No states to use!";if(!this.top().locked){var e=this.stack.splice(this.stack.length-1,1)[0];e.exit(),e=null}}},{key:"clear",value:function(){if(this.stack=this.stack.filter(function(e){return e.locked}),this.stack.length>1)throw" - Can only have one locked state."}},{key:"sameAsCurrent",value:function(e){return this.top().id===e}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(4),u=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.id="idle",e.locked=!0,e}return i(t,e),t}(u.default);e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4),f=r(l),p=n(7),h=r(p),y=function(e){function t(e,n,r,a){o(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.id="chase",u.status=n,u.owner=e,u.moveCallback=a,u.target=r,u.pickedPos={x:u.target.x,y:u.target.y},u.currentDir=c.default.DIR.RIGHT,u}return a(t,e),u(t,[{key:"update",value:function(){var e=this.moveCallback.call(this.owner,this.pickedPos);this.currentDir===h.default.getTargetSide(this.target,this.owner)&&e||(this.currentDir=h.default.getTargetSide(this.target,this.owner),this.pickedPos.x=this.target.x)}}]),t}(f.default);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),c=r(s),l=n(8),f=r(l),p=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.id="roam",a.status=n,a.owner=e,a.moveCallback=r,a.pickedPos={x:a.owner.x,y:a.owner.y},a}return a(t,e),u(t,[{key:"update",value:function(){this.moveCallback.call(this.owner,this.pickedPos)||(this.pickedPos.x=f.default.getRandomInt(64,480),this.pickedPos.y=this.pickedPos.y)}}]),t}(c.default);e.exports=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(29),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(){function e(){r(this,e)}return o(e,null,[{key:"create",value:function(e){var t=null;switch(e.id){case"coin":t=a.default}return new t(e)}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=n(30),f=r(l),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.body.onCollide=new Phaser.Signal,n.body.onCollide.add(n.onInteract,n),n}return a(t,e),u(t,[{key:"onInteract",value:function(){console.log("Player hit me!")}}]),t}((0,c.default)(f.default).with());e.exports=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game,e.x,e.y,e.name));return e.game.add.existing(n),e.game.physics.enable(n,Phaser.Physics.ARCADE),n.body.immovable=!0,n.body.allowGravity=!1,n}return i(t,e),t}(Phaser.Sprite);e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=n(32),f=r(l),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game,e.x,e.y,e.name));return e.game.add.existing(n),e.game.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.maxVelocity.setTo(e.MAX_SPEED,10*e.MAX_SPEED),n.body.drag.setTo(e.DRAG,0),n.stats=n.populateStats({hp_max:e.properties.hp_max,hp_now:e.properties.hp_now,score:e.properties.score}),console.log(n.stats),n}return a(t,e),u(t,[{key:"onPickup",value:function(e,t){this.modifyStat(e,t,this.stats),console.log(this.stats)}},{key:"onDamaged",value:function(e){}}]),t}((0,c.default)(Phaser.Sprite).with(f.default));e.exports=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){return function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"populateStats",value:function(e){var t=[];for(var n in e)t.push({id:n,v:e[n]});return t}},{key:"modifyStat",value:function(e,t,n){n.find(function(t){return t.id===e}).v+=t,console.log(e,t,n)}}]),t}(e)};e.exports=u}],[9]);