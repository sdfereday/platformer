webpackJsonp([0],[,,,,function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n(2),n(3);var s=n(1),u=a(s),c=n(10),l=a(c);new(function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,500,500,u.default.AUTO,"container",null));return t.state.add("GameState",l.default,!1),t.state.start("GameState"),t}return o(e,t),e}(u.default.Game))},,,,,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=n(11),s=(a(o),n(1)),u=a(s),c=n(14),l=a(c),f=n(15),h=a(f),p=n(16),d=a(p),y=function(){function t(e){r(this,t),this.game=e}return i(t,[{key:"preload",value:function(){var t={groundTile:"./assets/gfx/ground.png",mapData:"./assets/mapdata/sandbox.json"};this.game.load.image("ground",t.groundTile),this.game.load.image("player","./assets/gfx/player.png"),this.game.load.json("gambits","./assets/gamedata/gambits.json"),this.game.load.json("enemies","./assets/gamedata/enemies.json"),this.game.load.json("items","./assets/gamedata/items.json"),this.game.load.json("mapdata-sandbox",t.mapData)}},{key:"create",value:function(){this.game.stage.backgroundColor=4491468,this.MAX_SPEED=500,this.ACCELERATION=1500,this.DRAG=600,this.GRAVITY=2600,this.JUMP_SPEED=-700,this.player=new d.default({game:this.game,x:this.game.width/2,y:this.game.height-64,name:"player",MAX_SPEED:this.MAX_SPEED,DRAG:this.DRAG}),this.game.physics.arcade.gravity.y=this.GRAVITY,this.jumping=!1,this.ground=this.game.add.group();var t=this.game.cache.getJSON("mapdata-sandbox"),e=h.default.create(t,32);this.placeBlocks(e,32),this.game.input.keyboard.addKeyCapture([u.default.Keyboard.LEFT,u.default.Keyboard.RIGHT,u.default.Keyboard.UP,u.default.Keyboard.DOWN]),this.drawHeightMarkers()}},{key:"placeBlocks",value:function(t,e){for(var n=0,a=0,r=0;r<t.area;r+=1)if(n+=1,r%t.width==0&&(a+=1,n=0),t.atIndex(r)>0){var i=l.default.create({game:this.game,x:n*e,y:a*e,name:"ground"});this.ground.add(i)}}},{key:"drawHeightMarkers",value:function(){for(var t=this.game.add.bitmapData(this.game.width,this.game.height),e=this.game.height-32;e>=64;e-=32)t.context.beginPath(),t.context.strokeStyle="rgba(255, 255, 255, 0.2)",t.context.moveTo(0,e),t.context.lineTo(this.game.width,e),t.context.stroke();this.game.add.image(0,0,t)}},{key:"update",value:function(){this.game.physics.arcade.collide(this.player,this.ground),this.leftInputIsActive()?this.player.body.acceleration.x=-this.ACCELERATION:this.rightInputIsActive()?this.player.body.acceleration.x=this.ACCELERATION:this.player.body.acceleration.x=0,this.player.body.touching.down&&(this.jumps=2,this.jumping=!1),this.jumps>0&&this.upInputIsActive(150)&&(this.player.body.velocity.y=this.JUMP_SPEED,this.jumping=!0),this.jumping&&this.upInputReleased()&&(this.jumps--,this.jumping=!1)}},{key:"leftInputIsActive",value:function(){return this.input.keyboard.isDown(u.default.Keyboard.LEFT)}},{key:"rightInputIsActive",value:function(){return this.input.keyboard.isDown(u.default.Keyboard.RIGHT)}},{key:"upInputIsActive",value:function(t){return this.input.keyboard.downDuration(u.default.Keyboard.UP,t)}},{key:"upInputReleased",value:function(){return this.input.keyboard.upDuration(u.default.Keyboard.UP)}}]),t}();e.default=y},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function(){function t(e){a(this,t),this.superclass=e}return r(t,[{key:"with",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return e(t)},this.superclass)}}]),t}();t.exports=function(t){return new i(t)}},,function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(t){function e(t){a(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.game,t.x,t.y,t.name)),i=t.game;return i.add.existing(n),i.physics.enable(n,Phaser.Physics.ARCADE),n.body.immovable=!0,n.body.allowGravity=!1,n}return i(e,t),e}(Phaser.Sprite);t.exports=o},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(13),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(){a(this,t)}return r(t,null,[{key:"create",value:function(t){return new o.default(t)}}]),t}();t.exports=s},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function(){function t(){a(this,t),this.mapCache=[],this.area=0,this.width=0,this.height=0}return r(t,[{key:"create",value:function(t,e){return this.width=t.map[0].length,this.height=t.map.length,this.area=this.width*this.height,this.mapCache=t.map.reduce(function(t,e){return t.concat(e)}),this}},{key:"atIndex",value:function(t){return this.mapCache[t]}}]),t}();t.exports=new i},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(t){function e(t){a(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.game,t.x,t.y,t.name));return t.game.add.existing(n),t.game.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.maxVelocity.setTo(t.MAX_SPEED,10*t.MAX_SPEED),n.body.drag.setTo(t.DRAG,0),n}return i(e,t),e}(Phaser.Sprite);t.exports=o}],[4]);